<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YzemanBot - Earn Rewards</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src='//libtl.com/sdk.js' data-zone='9683863' data-sdk='show_9683863'></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --success: #00c853;
            --warning: #ffab00;
            --danger: #ff5252;
            --dark: #1a1b25;
            --darker: #12131a;
            --light: #f8f9fa;
            --gray: #6c757d;
            --card-bg: #252836;
            --card-border: #2d3343;
            --fresher: #4CAF50;
            --brute: #2196F3;
            --silver: #9E9E9E;
            --gold: #FFD700;
            --platinum: #E0E0E0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 20px 0 30px;
            position: relative;
        }

        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 36px;
            box-shadow: 0 8px 20px rgba(106, 17, 203, 0.3);
        }

        h1 {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(to right, #ff9a9e, #fad0c4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .subtitle {
            color: var(--gray);
            font-size: 16px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            justify-content: center;
        }
        
        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--card-bg);
            font-size: 20px;
        }
        
        .telegram-group {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(45deg, #1a237e, #4a148c);
            border-radius: 16px;
            border: 1px solid var(--card-border);
        }
        
        .group-btn {
            display: inline-block;
            background: #0088cc;
            color: white;
            padding: 12px 25px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s ease;
        }
        
        .group-btn:hover {
            background: #006699;
            transform: scale(1.05);
        }

        .tabs {
            display: flex;
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 25px;
            border: 1px solid var(--card-border);
        }

        .tab {
            flex: 1;
            padding: 16px 10px;
            text-align: center;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            border-bottom: 3px solid var(--secondary);
            background: rgba(37, 117, 252, 0.1);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tab-content.active {
            display: block;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 18px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin: 8px 0;
            color: var(--light);
        }

        .stat-label {
            font-size: 14px;
            color: var(--gray);
        }

        .progress-container {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .progress-title {
            font-weight: 600;
            font-size: 18px;
        }

        .progress-amount {
            color: var(--success);
            font-weight: 700;
        }

        .progress-bar-bg {
            height: 12px;
            background: #2d3343;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 10px;
            width: 0%;
            transition: width 1s ease;
        }

        .progress-goal {
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
            color: var(--gray);
        }

        .task-list {
            margin-bottom: 25px;
        }

        .task-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .task-card:hover {
            transform: translateY(-3px);
        }

        .task-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 20px;
        }

        .task-details {
            flex: 1;
        }

        .task-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .task-description {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 8px;
        }

        .task-reward {
            color: var(--success);
            font-weight: 600;
            font-size: 14px;
        }

        .task-action {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 12px;
            padding: 10px 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .task-action:disabled {
            background: var(--gray);
            cursor: not-allowed;
        }

        .tier-card {
            background: linear-gradient(135deg, #3a1c71, #d76d77, #ffaf7b);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }

        .tier-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }

        .tier-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .tier-title {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 10px;
            color: white;
        }

        .tier-name {
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(to right, #f8ff00, #3ad59f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .tier-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .tier-stat {
            text-align: center;
        }

        .tier-stat-value {
            font-size: 24px;
            font-weight: 700;
            color: white;
        }

        .tier-stat-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        .ad-container {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            margin-bottom: 25px;
        }

        .ad-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .ad-description {
            color: var(--gray);
            margin-bottom: 20px;
        }

        .ad-placeholder {
            height: 180px;
            background: linear-gradient(45deg, #1a2a6c, #b21f1f, #1a2a6c);
            border-radius: 12px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: rgba(255, 255, 255, 0.7);
        }

        .ad-action {
            background: linear-gradient(45deg, #ff512f, #f09819);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 30px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ad-action:hover {
            transform: scale(1.05);
        }

        .referral-section {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .referral-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--light);
            text-align: center;
        }

        .referral-code {
            font-family: monospace;
            font-size: 18px;
            letter-spacing: 2px;
            padding: 12px;
            background: rgba(37, 117, 252, 0.15);
            border: 1px dashed var(--secondary);
            border-radius: 12px;
            text-align: center;
            margin: 15px 0;
        }

        .copy-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto;
            width: 100%;
            max-width: 200px;
        }

        .social-proof {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
        }

        .social-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 28px;
        }

        .social-icons a {
            color: var(--light);
            transition: all 0.3s ease;
        }

        .social-icons a:hover {
            color: var(--secondary);
            transform: translateY(-3px);
        }

        .withdraw-container {
            text-align: center;
            padding: 20px;
        }

        .withdraw-info {
            margin-bottom: 20px;
            font-size: 16px;
            color: var(--gray);
        }

        .withdraw-btn {
            background: linear-gradient(45deg, #00c853, #64dd17);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 40px;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .withdraw-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
        }

        .withdraw-btn:disabled:hover {
            transform: none;
        }

        .withdraw-btn:hover {
            transform: scale(1.05);
        }

        .tier-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .fresher { background: var(--fresher); }
        .brute { background: var(--brute); }
        .silver { background: var(--silver); color: #000; }
        .gold { background: var(--gold); color: #000; }
        .platinum { background: var(--platinum); color: #000; }

        .timer {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            color: var(--success);
            display: none;
        }

        .wallet-input {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: none;
            background: var(--darker);
            color: var(--light);
            font-size: 16px;
            margin: 15px 0;
        }

        .submit-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: none;
        }

        .iframe-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--darker);
            z-index: 1000;
            display: none;
            flex-direction: column;
        }

        .iframe-header {
            padding: 15px;
            background: var(--card-bg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .iframe-content {
            flex: 1;
            border: none;
        }

        .close-iframe {
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
        }
        
        .server-info {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .server-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            justify-content: center;
        }
        
        .server-option {
            background: rgba(37, 117, 252, 0.15);
            border: 1px solid var(--secondary);
            border-radius: 12px;
            padding: 15px;
            min-width: 120px;
            text-align: center;
        }
        
        .daily-reset {
            text-align: center;
            font-size: 14px;
            color: var(--gray);
            margin: 10px 0;
            background: rgba(0,0,0,0.2);
            padding: 8px;
            border-radius: 12px;
        }
        
        .ad-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }
        
        .ad-counter {
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .premium-ad-card {
            background: linear-gradient(45deg, #8e2de2, #4a00e0);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .premium-ad-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .premium-ad-icon {
            font-size: 32px;
            color: var(--gold);
        }
        
        .premium-ad-details {
            flex: 1;
        }
        
        .premium-ad-title {
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .premium-ad-description {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 10px;
        }
        
        .premium-ad-reward {
            color: var(--gold);
            font-weight: 700;
        }
        
        .premium-ad-action {
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            color: black;
            border: none;
            border-radius: 12px;
            padding: 10px 20px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .task-timer {
            display: inline-block;
            padding: 3px 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            font-size: 12px;
            margin-left: 5px;
        }
        
        .ad-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            display: none;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 5px solid var(--secondary);
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .ad-status {
            color: white;
            margin-top: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="notification" id="notification">Reward claimed successfully!</div>
    
    <div class="ad-loading" id="adLoading">
        <div class="spinner"></div>
        <div class="ad-status" id="adStatus">Loading ad...</div>
    </div>

    <div class="iframe-container" id="iframeContainer">
        <div class="iframe-header">
            <div>Task in Progress</div>
            <button class="close-iframe" id="closeIframe">Close</button>
        </div>
        <iframe class="iframe-content" id="taskIframe" allow="autoplay"></iframe>
        <div class="timer" id="timer">05:00</div>
    </div>

    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-coins"></i>
            </div>
            <h1>YzemanBot</h1>
            <p class="subtitle">Earn Rewards with Free Server Integration</p>
            
            <div class="user-info" id="userInfo">
                <div class="user-avatar" id="userAvatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-name" id="userName">Loading...</div>
            </div>
            
            <div class="telegram-group">
                <h3>Join Our Telegram Channel</h3>
                <p>Get updates, announcements and exclusive rewards</p>
                <a href="https://t.me/YzemanEarnBotChannel" class="group-btn" target="_blank">
                    <i class="fab fa-telegram"></i> Join Channel
                </a>
            </div>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="earn">Earn Points</div>
            <div class="tab" data-tab="refer">Refer Friends</div>
            <div class="tab" data-tab="social">Social Rewards</div>
            <div class="tab" data-tab="withdraw">Withdraw</div>
        </div>

        <div class="tab-content active" id="earnTab">
            <div class="daily-reset">
                <i class="fas fa-sync-alt"></i> Daily tasks reset in <span id="resetTimer">24:00:00</span>
            </div>
            
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-label">Your Points</div>
                    <div class="stat-value" id="points">0 pts</div>
                    <div>$<span id="pointsUSD">0.00</span></div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Your Tier</div>
                    <div class="stat-value" id="userTier">Fresher</div>
                    <div id="referralCount">0 referrals</div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-header">
                    <div class="progress-title">Withdrawal Progress</div>
                    <div class="progress-amount">$<span id="progressAmount">0.00</span>/$1000</div>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="progressBar"></div>
                </div>
                <div class="progress-goal">Reach $1000 to withdraw your earnings</div>
            </div>

            <div class="tier-card">
                <div class="tier-content">
                    <div class="tier-title">Current Tier</div>
                    <div class="tier-name" id="currentTier">Fresher</div>
                    <div class="tier-stats">
                        <div class="tier-stat">
                            <div class="tier-stat-value" id="tierMultiplier">1x</div>
                            <div class="tier-stat-label">Earning Rate</div>
                        </div>
                        <div class="tier-stat">
                            <div class="tier-stat-value" id="nextTierRef">15</div>
                            <div class="tier-stat-label">Refs to Next Tier</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="task-list">
                <div class="task-card">
                    <div class="task-icon">
                        <i class="fas fa-ad"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Visit an Ad <span class="tier-badge fresher">+51 pts</span></div>
                        <div class="task-description">Watch a 1-minute ad to earn points</div>
                        <div class="task-reward">Daily limit: <span id="adCounter">0/∞</span></div>
                    </div>
                    <button class="task-action" id="watchAdBtn">Watch</button>
                </div>

                <div class="task-card">
                    <div class="task-icon">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Watch YouTube Video</div>
                        <div class="task-description">Watch for 5 minutes to earn points</div>
                        <div class="task-reward">+2000 points</div>
                    </div>
                    <button class="task-action" id="watchYoutubeBtn">Watch</button>
                </div>

                <div class="task-card">
                    <div class="task-icon">
                        <i class="fas fa-globe"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Visit Website</div>
                        <div class="task-description">Stay 2 minute to earn points</div>
                        <div class="task-reward">+500 points</div>
                    </div>
                    <button class="task-action" id="visitWebsiteBtn">Visit</button>
                </div>

                <div class="task-card">
                    <div class="task-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Refer a Friend</div>
                        <div class="task-description">Get points when friends join</div>
                        <div class="task-reward">+<span id="referralReward">1000</span> points</div>
                    </div>
                    <button class="task-action" id="referBtn">Refer</button>
                </div>
            </div>

            <div class="ad-container">
                <h2 class="ad-title">Premium Ad Center</h2>
                <p class="ad-description">Watch high-value ads for more points</p>
                
                <div class="premium-ad-card">
                    <div class="premium-ad-content">
                        <div class="premium-ad-icon">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div class="premium-ad-details">
                            <div class="premium-ad-title">Premium Video Task</div>
                            <div class="premium-ad-description">Watch YouTube video for 20 minutes, like and comment to earn</div>
                            <div class="premium-ad-reward">+1000 points</div>
                        </div>
                        <button class="premium-ad-action" id="premiumAdBtn">Start</button>
                    </div>
                </div>
                
                <div class="ad-controls">
                    <div class="ad-counter">Today: <span id="premiumAdCounter">0/1</span></div>
                    <button class="ad-action" id="changeAdBtn">Change Video</button>
                </div>
            </div>
        </div>

        <div class="tab-content" id="referTab">
            <div class="referral-section">
                <h2 class="referral-title">Refer Friends & Earn</h2>
                <p>Share your referral code and earn 1000 points per friend</p>
                <div class="referral-code" id="referralCode">Loading...</div>
                <button class="copy-btn" id="copyCodeBtn">
                    <i class="fas fa-copy"></i> Copy Referral Code
                </button>
                <p class="referral-link" id="referralLink">Loading...</p>
            </div>

            <div class="task-list">
                <div class="task-card">
                    <div class="task-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Your Referral Progress</div>
                        <div class="task-description">Earn higher tiers with more referrals</div>
                        <div class="task-reward">Current referrals: <span id="currentRefCount">0</span></div>
                    </div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-header">
                    <div class="progress-title">Tier Progress</div>
                    <div class="progress-amount"><span id="currentRefs">0</span>/<span id="nextTierReq">15</span></div>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="tierProgressBar"></div>
                </div>
                <div class="progress-goal">Reach next tier for better rewards</div>
            </div>
            
            <div class="tier-info">
                <h3>Tier Benefits</h3>
                <ul>
                    <li><strong>Fresher:</strong> 1x earning rate, 1000 points per referral</li>
                    <li><strong>Brute (15 referrals):</strong> 1.2x earning rate, 1500 points per referral</li>
                    <li><strong>Silver (35 referrals):</strong> 1.5x earning rate, 2000 points per referral</li>
                    <li><strong>Gold (70 referrals):</strong> 2x earning rate, 3000 points per referral</li>
                    <li><strong>Platinum (150 referrals):</strong> 3x earning rate, 5000 points per referral</li>
                </ul>
            </div>
        </div>

        <div class="tab-content" id="socialTab">
            <div class="task-list">
                <div class="task-card">
                    <div class="task-icon">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Subscribe to YouTube Channel 1</div>
                        <div class="task-description">Subscribe to Yzeman Updates</div>
                        <div class="task-reward">+$50 bonus</div>
                    </div>
                    <button class="task-action" id="youtubeBtn1">Subscribe</button>
                </div>

                <div class="task-card">
                    <div class="task-icon">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Subscribe to YouTube Channel 2</div>
                        <div class="task-description">Subscribe to Coding App with HTML</div>
                        <div class="task-reward">+$50 bonus</div>
                    </div>
                    <button class="task-action" id="youtubeBtn2">Subscribe</button>
                </div>

                <div class="task-card">
                    <div class="task-icon">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Subscribe to YouTube Channel 3</div>
                        <div class="task-description">Subscribe to Yzeman Hacker</div>
                        <div class="task-reward">+$50 bonus</div>
                    </div>
                    <button class="task-action" id="youtubeBtn3">Subscribe</button>
                </div>

                <div class="task-card">
                    <div class="task-icon">
                        <i class="fab fa-facebook"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Follow on Facebook</div>
                        <div class="task-description">Follow our Facebook page</div>
                        <div class="task-reward">+$50 bonus</div>
                    </div>
                    <button class="task-action" id="facebookBtn">Follow</button>
                </div>

                <div class="task-card">
                    <div class="task-icon">
                        <i class="fab fa-instagram"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Follow on Instagram</div>
                        <div class="task-description">Follow our Instagram account</div>
                        <div class="task-reward">+$50 bonus</div>
                    </div>
                    <button class="task-action" id="instagramBtn">Follow</button>
                </div>
                
                <div class="task-card">
                    <div class="task-icon">
                        <i class="fab fa-twitter"></i>
                    </div>
                    <div class="task-details">
                        <div class="task-title">Follow on Twitter</div>
                        <div class="task-description">Follow our Twitter account</div>
                        <div class="task-reward">+$50 bonus</div>
                    </div>
                    <button class="task-action" id="twitterBtn">Follow</button>
                </div>
            </div>
        </div>

        <div class="tab-content" id="withdrawTab">
            <div class="progress-container">
                <div class="progress-header">
                    <div class="progress-title">Withdrawal Progress</div>
                    <div class="progress-amount">$<span id="withdrawProgress">0.00</span>/$1000</div>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="withdrawBar" style="width: 0%"></div>
                </div>
                <div class="progress-goal">Reach $1000 to withdraw your earnings</div>
            </div>

            <div class="withdraw-container">
                <div class="withdraw-info">
                    <p>Minimum withdrawal: $1000 (100,000,000 points)</p>
                    <p>Withdrawals via USDT (TRC-20)</p>
                    <p>Message @yzemanreal on Telegram to complete</p>
                </div>
                
                <input type="text" class="wallet-input" id="walletAddress" placeholder="Enter USDT (TRC-20) Wallet Address">
                <button class="submit-btn" id="submitWalletBtn">Submit Wallet Address</button>
                
                <button class="withdraw-btn" id="withdrawBtn" disabled>Withdraw $1000</button>
            </div>
        </div>

        <div class="social-proof">
            <div class="social-title">Connect With Us</div>
            <div class="social-icons">
                <a href="https://t.me/YzemanEarnBotChannel" target="_blank"><i class="fab fa-telegram"></i></a>
                <a href="https://youtube.com/@yzeupdates" target="_blank"><i class="fab fa-youtube"></i></a>
                <a href="https://www.facebook.com/share/1ADZJ1DVyn/?mibextid=wwXIfr" target="_blank"><i class="fab fa-facebook"></i></a>
                <a href="https://www.instagram.com/yzeupdates?igsh=MTR6dHdmODVhcDVzaw%3D%3D&utm_source=qr" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://x.com/oisreal80231?s=21" target="_blank"><i class="fab fa-twitter"></i></a>
            </div>
        </div>
    </div>

    <script>
    // Initialize Telegram Web App
    const tg = window.Telegram.WebApp;
    const API_BASE = 'https://yzemanbot-mini-app.onrender.com/api';
    
    // DOM Elements
    const pointsElement = document.getElementById('points');
    const pointsUSDElement = document.getElementById('pointsUSD');
    const progressBar = document.getElementById('progressBar');
    const progressAmount = document.getElementById('progressAmount');
    const userTierElement = document.getElementById('userTier');
    const referralCountElement = document.getElementById('referralCount');
    const currentTierElement = document.getElementById('currentTier');
    const tierMultiplierElement = document.getElementById('tierMultiplier');
    const nextTierRefElement = document.getElementById('nextTierRef');
    const referralCodeElement = document.getElementById('referralCode');
    const referralLinkElement = document.getElementById('referralLink');
    const withdrawBtn = document.getElementById('withdrawBtn');
    const withdrawProgress = document.getElementById('withdrawProgress');
    const withdrawBar = document.getElementById('withdrawBar');
    const notification = document.getElementById('notification');
    const iframeContainer = document.getElementById('iframeContainer');
    const taskIframe = document.getElementById('taskIframe');
    const closeIframe = document.getElementById('closeIframe');
    const timerElement = document.getElementById('timer');
    const walletAddressInput = document.getElementById('walletAddress');
    const submitWalletBtn = document.getElementById('submitWalletBtn');
    const resetTimerElement = document.getElementById('resetTimer');
    const adCounterElement = document.getElementById('adCounter');
    const premiumAdCounterElement = document.getElementById('premiumAdCounter');
    const referralRewardElement = document.getElementById('referralReward');
    const adLoading = document.getElementById('adLoading');
    const adStatus = document.getElementById('adStatus');
    const userNameElement = document.getElementById('userName');
    const userAvatarElement = document.getElementById('userAvatar');
    
    // User data
    let userData = {
        pointsSinceLastDollar: 0,
        dollarsEarned: 0,
        referrals: 0,
        tier: "Fresher",
        multiplier: 1,
        nextTierRefs: 15,
        walletAddress: "",
        referralCode: "",
        socialCompletions: {
            youtube1: false,
            youtube2: false,
            youtube3: false,
            facebook: false,
            instagram: false,
            twitter: false
        },
        dailyReset: new Date().setHours(24, 0, 0, 0)
    };
    
    // Tier system
    const tiers = {
        'Fresher': { refsRequired: 0, multiplier: 1, referralReward: 1000, adReward: 51 },
        'Brute': { refsRequired: 15, multiplier: 1.2, referralReward: 1500, adReward: 74 },
        'Silver': { refsRequired: 35, multiplier: 1.5, referralReward: 2000, adReward: 105 },
        'Gold': { refsRequired: 70, multiplier: 2, referralReward: 3000, adReward: 140 },
        'Platinum': { refsRequired: 150, multiplier: 3, referralReward: 5000, adReward: 210 }
    };
    
    // Initialize app
    function initApp() {
        tg.expand();
        tg.enableClosingConfirmation();
        document.body.classList.toggle('dark-theme', tg.colorScheme === 'dark');
        tg.onEvent('themeChanged', () => {
            document.body.classList.toggle('dark-theme', tg.colorScheme === 'dark');
        });
        
        displayUserInfo();
        setupEventListeners();
        fetchUserData();
        startResetTimer();
    }
    
    function displayUserInfo() {
        const user = tg.initDataUnsafe?.user;
        if (user) {
            userNameElement.textContent = 
                `${user.first_name || ''} ${user.last_name || ''}`.trim() || `@${user.username}`;
            
            if (user.photo_url) {
                userAvatarElement.style.backgroundImage = `url(${user.photo_url})`;
                userAvatarElement.innerHTML = '';
            }
        } else {
            userNameElement.textContent = 'Guest User';
        }
    }
    
    async function fetchUserData() {
        const user = tg.initDataUnsafe?.user;
        if (!user) return;
        
        try {
            // Initialize user first
            const initResponse = await fetch(`${API_BASE}/init-user`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    telegramId: user.id,
                    username: user.username,
                    firstName: user.first_name,
                    lastName: user.last_name
                })
            });
            
            const initData = await initResponse.json();
            if (!initData.success) {
                showNotification('User initialization failed', 'error');
                return;
            }
            
            // Now fetch user data
            const response = await fetch(`${API_BASE}/user/${user.id}`);
            const data = await response.json();
            
            if (data.error) {
                showNotification('User data not found', 'error');
                return;
            }
            
            // Update user data
            userData.pointsSinceLastDollar = data.pointsSinceLastDollar;
            userData.dollarsEarned = data.dollarsEarned;
            userData.referrals = data.referrals;
            userData.tier = data.tier;
            userData.multiplier = data.multiplier;
            userData.nextTierRefs = data.nextTierRefs;
            userData.walletAddress = data.walletAddress;
            userData.referralCode = data.referralCode || '';
            
            if (data.socialCompletions) {
                userData.socialCompletions = data.socialCompletions;
            }
            
            updateUI();
        } catch (error) {
            console.error('Failed to fetch user data:', error);
            showNotification('Network error. Please try again later.', 'error');
        }
    }
    
    function startResetTimer() {
        const updateTimer = () => {
            const now = new Date();
            const resetTime = new Date(userData.dailyReset);
            const diff = resetTime - now;
            
            if (diff <= 0) {
                userData.dailyReset = new Date().setHours(24, 0, 0, 0);
                showNotification("Daily tasks reset!");
            }
            
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            resetTimerElement.textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        };
        
        updateTimer();
        setInterval(updateTimer, 1000);
    }
    
    function setupEventListeners() {
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(`${tab.dataset.tab}Tab`).classList.add('active');
            });
        });
        
        document.getElementById('watchAdBtn').addEventListener('click', startAdWatch);
        document.getElementById('premiumAdBtn').addEventListener('click', startPremiumAd);
        document.getElementById('changeAdBtn').addEventListener('click', changePremiumAd);
        document.getElementById('referBtn').addEventListener('click', () => {
            document.querySelectorAll('.tab')[1].classList.add('active');
            document.getElementById('earnTab').classList.remove('active');
            document.getElementById('referTab').classList.add('active');
        });
        document.getElementById('visitWebsiteBtn').addEventListener('click', startWebsiteTask);
        document.getElementById('watchYoutubeBtn').addEventListener('click', startYoutubeTask);
        document.getElementById('youtubeBtn1').addEventListener('click', () => completeSocialTask('youtube1', 'https://youtube.com/@yzeupdates'));
        document.getElementById('youtubeBtn2').addEventListener('click', () => completeSocialTask('youtube2', 'https://youtube.com/@codingappwithhtml'));
        document.getElementById('youtubeBtn3').addEventListener('click', () => completeSocialTask('youtube3', 'https://youtube.com/@yzemanhacker8831'));
        document.getElementById('facebookBtn').addEventListener('click', () => completeSocialTask('facebook', 'https://www.facebook.com/share/1ADZJ1DVyn/?mibextid=wwXIfr'));
        document.getElementById('instagramBtn').addEventListener('click', () => completeSocialTask('instagram', 'https://www.instagram.com/yzeupdates?igsh=MTR6dHdmODVhcDVzaw%3D%3D&utm_source=qr'));
        document.getElementById('twitterBtn').addEventListener('click', () => completeSocialTask('twitter', 'https://x.com/oisreal80231?s=21'));
        document.getElementById('copyCodeBtn').addEventListener('click', copyReferralCode);
        withdrawBtn.addEventListener('click', startWithdrawal);
        closeIframe.addEventListener('click', () => {
            iframeContainer.style.display = 'none';
            timerElement.style.display = 'none';
        });
        submitWalletBtn.addEventListener('click', saveWalletAddress);
    }
    
    function updateUI() {
        pointsElement.textContent = `${userData.pointsSinceLastDollar.toLocaleString()} pts`;
        pointsUSDElement.textContent = userData.dollarsEarned.toFixed(2);
        
        // Calculate total value for withdrawal progress
        const totalValue = userData.dollarsEarned + (userData.pointsSinceLastDollar / 100000);
        const progressPercent = Math.min(100, (totalValue / 1000) * 100);
        
        progressBar.style.width = `${progressPercent}%`;
        progressAmount.textContent = totalValue.toFixed(2);
        withdrawProgress.textContent = totalValue.toFixed(2);
        withdrawBar.style.width = `${progressPercent}%`;
        
        userTierElement.textContent = userData.tier;
        referralCountElement.textContent = `${userData.referrals} referral${userData.referrals !== 1 ? 's' : ''}`;
        currentTierElement.textContent = userData.tier;
        tierMultiplierElement.textContent = `${userData.multiplier}x`;
        nextTierRefElement.textContent = userData.nextTierRefs;
        
        const currentTier = tiers[userData.tier] || tiers['Fresher'];
        referralRewardElement.textContent = currentTier.referralReward;
        
        // Update referral code display
        if (userData.referralCode) {
            referralCodeElement.textContent = `YZEMAN-${userData.referralCode}`;
            referralLinkElement.textContent = `https://t.me/YzemanBot?start=ref-${userData.referralCode}`;
        } else {
            referralCodeElement.textContent = "Loading...";
            referralLinkElement.textContent = "Loading...";
        }
        
        document.getElementById('currentRefCount').textContent = userData.referrals;
        document.getElementById('currentRefs').textContent = userData.referrals;
        document.getElementById('nextTierReq').textContent = currentTier.refsRequired;
        
        const tierProgress = (userData.referrals / currentTier.refsRequired) * 100;
        document.getElementById('tierProgressBar').style.width = `${Math.min(100, tierProgress)}%`;
        
        withdrawBtn.disabled = totalValue < 1000 || !userData.walletAddress;
        
        if (userData.walletAddress) {
            walletAddressInput.value = userData.walletAddress;
        }
        
        // Update social task buttons
        updateTaskButtons();
    }
    
    function updateTaskButtons() {
        // Social tasks
        document.getElementById('youtubeBtn1').disabled = userData.socialCompletions.youtube1;
        document.getElementById('youtubeBtn2').disabled = userData.socialCompletions.youtube2;
        document.getElementById('youtubeBtn3').disabled = userData.socialCompletions.youtube3;
        document.getElementById('facebookBtn').disabled = userData.socialCompletions.facebook;
        document.getElementById('instagramBtn').disabled = userData.socialCompletions.instagram;
        document.getElementById('twitterBtn').disabled = userData.socialCompletions.twitter;
    }
    
    function copyReferralCode() {
        if (!userData.referralCode) {
            showNotification('Referral code not available', 'error');
            return;
        }
        
        const code = `ref-${userData.referralCode}`;
        navigator.clipboard.writeText(code);
        showNotification('Referral code copied!');
    }
    
    async function startAdWatch() {
        const currentTier = tiers[userData.tier] || tiers['Fresher'];
        const reward = currentTier.adReward;
        
        adStatus.textContent = "Loading ad...";
        adLoading.style.display = 'flex';
        
        if (typeof show_9683863 === 'function') {
            show_9683863().then(async () => {
                const success = await updatePoints(reward, 'ad');
                if (success) {
                    showNotification(`+${reward} points earned!`);
                }
            }).catch(() => {
                showNotification('Ad failed', 'error');
            }).finally(() => {
                adLoading.style.display = 'none';
            });
        } else {
            // Fallback for testing
            setTimeout(async () => {
                const success = await updatePoints(reward, 'ad');
                if (success) {
                    showNotification(`+${reward} points earned!`);
                }
                adLoading.style.display = 'none';
            }, 2000);
        }
    }
    
    async function updatePoints(points, type) {
        const user = tg.initDataUnsafe?.user;
        if (!user) return false;
        
        try {
            const response = await fetch(`${API_BASE}/update-points`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    telegramId: user.id,
                    points: points,
                    type: type
                })
            });
            
            const data = await response.json();
            if (data.success) {
                // Update locally for immediate UI feedback
                userData.pointsSinceLastDollar = data.pointsSinceLastDollar;
                userData.dollarsEarned = data.dollarsEarned;
                updateUI();
                return true;
            }
            return false;
        } catch (error) {
            console.error('Failed to update points:', error);
            showNotification('Network error. Please try again later.', 'error');
            return false;
        }
    }
    
    async function completeSocialTask(platform, url) {
        const user = tg.initDataUnsafe?.user;
        if (!user) return;
        
        // Check if already completed
        if (userData.socialCompletions[platform]) {
            showNotification('You already completed this task!', 'error');
            return;
        }
        
        // Open in new tab
        window.open(url, '_blank');
        
        try {
            const response = await fetch(`${API_BASE}/complete-social`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    telegramId: user.id,
                    taskId: platform
                })
            });
            
            const data = await response.json();
            if (data.success) {
                // Update locally
                userData.socialCompletions[platform] = true;
                userData.pointsSinceLastDollar = data.pointsSinceLastDollar;
                userData.dollarsEarned = data.dollarsEarned;
                updateUI();
                showNotification(`+$50 added to your account!`);
            } else {
                showNotification(data.error || 'Failed to add points', 'error');
            }
        } catch (error) {
            console.error('Failed to complete social task:', error);
            showNotification('Network error. Please try again later.', 'error');
        }
    }
    
    function startPremiumAd() {
        const reward = 1000;
        adStatus.textContent = "Loading premium ad...";
        adLoading.style.display = 'flex';
        
        if (typeof show_9683863 === 'function') {
            show_9683863('pop').then(async () => {
                const success = await updatePoints(reward, 'premium_ad');
                if (success) {
                    showNotification(`Premium ad completed! +${reward} points`);
                }
            }).catch(() => {
                showNotification('Premium ad failed', 'error');
            }).finally(() => {
                adLoading.style.display = 'none';
            });
        } else {
            // Fallback for testing
            setTimeout(async () => {
                const success = await updatePoints(reward, 'premium_ad');
                if (success) {
                    showNotification(`Premium ad completed! +${reward} points`);
                }
                adLoading.style.display = 'none';
            }, 2000);
        }
    }
    
    function changePremiumAd() {
        showNotification('Premium ad changed!');
    }
    
    function updateTimer(seconds) {
        const minutes = Math.floor(seconds / 60);
        const remainingSeconds = seconds % 60;
        timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
    }
    
    function startWebsiteTask() {
        taskIframe.src = 'https://yzeupdates.lat/articles.html';
        iframeContainer.style.display = 'flex';
        timerElement.style.display = 'block';
        
        let timeSpent = 0;
        const requiredTime = 120;
        updateTimer(requiredTime);
        
        const timer = setInterval(() => {
            timeSpent++;
            const timeLeft = requiredTime - timeSpent;
            updateTimer(timeLeft);
            
            if (timeSpent >= requiredTime) {
                clearInterval(timer);
                iframeContainer.style.display = 'none';
                timerElement.style.display = 'none';
                updatePoints(500, 'website').then(success => {
                    if (success) {
                        showNotification(`Website task completed! +500 points`);
                    }
                });
            }
        }, 1000);
    }
    
    function startYoutubeTask() {
        taskIframe.src = 'https://www.youtube.com/embed/FFiEFCCAM4c?autoplay=1';
        iframeContainer.style.display = 'flex';
        timerElement.style.display = 'block';
        
        let timeSpent = 0;
        const requiredTime = 300;
        updateTimer(requiredTime);
        
        const timer = setInterval(() => {
            timeSpent++;
            const timeLeft = requiredTime - timeSpent;
            updateTimer(timeLeft);
            
            if (iframeContainer.style.display === 'none') {
                clearInterval(timer);
                timerElement.style.display = 'none';
                return;
            }
            
            if (timeSpent >= requiredTime) {
                clearInterval(timer);
                iframeContainer.style.display = 'none';
                timerElement.style.display = 'none';
                updatePoints(2000, 'youtube').then(success => {
                    if (success) {
                        showNotification(`YouTube task completed! +2000 points`);
                    }
                });
            }
        }, 1000);
    }
    
    async function saveWalletAddress() {
        const address = walletAddressInput.value.trim();
        if (!address) {
            showNotification('Enter valid wallet address', 'error');
            return;
        }
        
        const user = tg.initDataUnsafe?.user;
        if (!user) return;
        
        try {
            const response = await fetch(`${API_BASE}/set-wallet`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    telegramId: user.id,
                    walletAddress: address
                })
            });
            
            const data = await response.json();
            if (data.success) {
                userData.walletAddress = address;
                updateUI();
                showNotification('Wallet address saved!');
            }
        } catch (error) {
            console.error('Failed to save wallet:', error);
            showNotification('Network error. Please try again later.', 'error');
        }
    }
    
    async function startWithdrawal() {
        const user = tg.initDataUnsafe?.user;
        if (!user) return;
        
        try {
            const response = await fetch(`${API_BASE}/request-withdrawal`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ telegramId: user.id })
            });
            
            const data = await response.json();
            if (data.success) {
                // Reset points and dollars after withdrawal
                userData.dollarsEarned = 0;
                userData.pointsSinceLastDollar = 0;
                updateUI();
                showNotification('Withdrawal request sent!');
                tg.showAlert("Message @yzemanreal on Telegram to complete your withdrawal");
            } else {
                showNotification(data.error || 'Withdrawal failed', 'error');
            }
        } catch (error) {
            console.error('Withdrawal error:', error);
            showNotification('Network error. Please try again later.', 'error');
        }
    }
    
    function showNotification(message, type = 'success') {
        notification.textContent = message;
        notification.style.background = type === 'error' ? 'var(--danger)' : 'var(--success)';
        notification.style.display = 'block';
        setTimeout(() => notification.style.display = 'none', 3000);
    }
    
    // Initialize app
    tg.ready();
    initApp();
</script>
</body>
</html>